{"version":3,"file":"main.js","mappings":";;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,WAAW;AACX,cAAc;AACd,YAAY;AACZ;AACA;AACA,uCAAuC,iBAAiB;AACxD;AACA,cAAc,oCAAoC;AAClD,0BAA0B,uBAAuB;AACjD,GAAG;AACH;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA,IAAI;AACJ,EAAE;AACF;AACA;AACA,iEAAe,IAAI;;;;;;;;;;;;;;;ACpDnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,EAAE;AACF;AACA;AACA,iEAAe,UAAU;;;;;;;;;;;;;;;ACpDzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,wCAAwC,GAAG;AACvD;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,EAAE;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,KAAK,GAAG,KAAK;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,MAAM;AACpC,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,IAAI;AACJ,qBAAqB,YAAY;AACjC,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iEAAe,SAAS;;;;;;;UCvIxB;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;;;;;;;;;ACNoC;AACY;AACF;AAC9C;AACA;AACA,CAAC,kEAAU;AACX,CAAC,kEAAS;AACV,CAAC,6DAAI;AACL,CAAC","sources":["webpack://nice/./js/modules/form.js","webpack://nice/./js/modules/headerMenu.js","webpack://nice/./js/modules/orderRoom.js","webpack://nice/webpack/bootstrap","webpack://nice/webpack/runtime/define property getters","webpack://nice/webpack/runtime/hasOwnProperty shorthand","webpack://nice/webpack/runtime/make namespace object","webpack://nice/./js/script.js"],"sourcesContent":["function form() {\r\n\tconst formContact = document.querySelector('.contact-form')\r\n\tif (!formContact) return\r\n\r\n\tconst telegramTokenBot = '7297762905:AAHUFVoYAkRtyk9HMvQe1Boo25R4x-hDxgQ' // Tokeningizni to‘liq kiriting\r\n\tconst chatId = '1384095888'\r\n\r\n\tconst message = {\r\n\t\tloading: 'Yuborilmoqda...',\r\n\t\tsuccess: 'Xabaringiz yuborildi!',\r\n\t\tfailur: 'Xatolik yuz berdi!',\r\n\t}\r\n\r\n\tformContact.addEventListener('submit', event => {\r\n\t\tevent.preventDefault()\r\n\r\n\t\tconst statusMessage = document.createElement('div')\r\n\t\tstatusMessage.textContent = message.loading\r\n\t\tformContact.append(statusMessage)\r\n\r\n\t\tconst formData = new FormData(formContact)\r\n\t\tconst object = {}\r\n\t\tformData.forEach((value, key) => {\r\n\t\t\tobject[key] = value\r\n\t\t})\r\n\r\n\t\tconst text = `\r\n📥 Yangi xabar!\r\n👤 Ismi: ${object.name}\r\n📞 Telefon: ${object.phone}\r\n✉️ Xabar: ${object.message}\r\n\t\t`\r\n\r\n\t\tfetch(`https://api.telegram.org/bot${telegramTokenBot}/sendMessage`, {\r\n\t\t\tmethod: 'POST',\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t\tbody: JSON.stringify({ chat_id: chatId, text }),\r\n\t\t})\r\n\t\t\t.then(res => {\r\n\t\t\t\tif (!res.ok) throw new Error('Telegram API error')\r\n\t\t\t\tstatusMessage.textContent = message.success\r\n\t\t\t})\r\n\t\t\t.catch(() => {\r\n\t\t\t\tstatusMessage.textContent = message.failur\r\n\t\t\t})\r\n\t\t\t.finally(() => {\r\n\t\t\t\tformContact.reset()\r\n\t\t\t\tsetTimeout(() => statusMessage.remove(), 3000)\r\n\t\t\t})\r\n\t})\r\n}\r\n\r\nexport default form\r\n","function headerMenu() {\r\n\tconst navLinks = document.querySelectorAll('.nav-menu .nav-link')\r\n\tconst menuOpenButton = document.querySelector('#menu-open-button')\r\n\tconst menuCloseButton = document.querySelector('#menu-close-button')\r\n\tconst mobileMenu = document.body // 'show-mobile-menu' classi bodyga qo‘shiladi\r\n\r\n\t// Scrollni bloklash va ochish funksiyalari\r\n\tfunction lockScroll() {\r\n\t\tdocument.body.classList.add('no-scroll')\r\n\t}\r\n\r\n\tfunction unlockScroll() {\r\n\t\tdocument.body.classList.remove('no-scroll')\r\n\t}\r\n\r\n\t// Menyu ochish\r\n\tmenuOpenButton.addEventListener('click', () => {\r\n\t\tmobileMenu.classList.toggle('show-mobile-menu')\r\n\t\tif (mobileMenu.classList.contains('show-mobile-menu')) {\r\n\t\t\tlockScroll() // sahifani qotir\r\n\t\t} else {\r\n\t\t\tunlockScroll() // sahifani och\r\n\t\t}\r\n\t})\r\n\r\n\t// Menyu yopish (close button bosilganda)\r\n\tmenuCloseButton.addEventListener('click', () => {\r\n\t\tmobileMenu.classList.remove('show-mobile-menu')\r\n\t\tunlockScroll() // sahifani och\r\n\t})\r\n\r\n\t// Menyu tashqarisiga bosganda ham menyu yopilishi kerak\r\n\tdocument.addEventListener('click', event => {\r\n\t\tif (\r\n\t\t\t!event.target.closest('.nav-menu') &&\r\n\t\t\t!event.target.closest('#menu-open-button') &&\r\n\t\t\tmobileMenu.classList.contains('show-mobile-menu')\r\n\t\t) {\r\n\t\t\tmobileMenu.classList.remove('show-mobile-menu')\r\n\t\t\tunlockScroll() // sahifani och\r\n\t\t}\r\n\t})\r\n\r\n\t// Menyu havolalarini bosganda ham menyu yopilsin\r\n\tnavLinks.forEach(link => {\r\n\t\tlink.addEventListener('click', () => {\r\n\t\t\tmobileMenu.classList.remove('show-mobile-menu')\r\n\t\t\tunlockScroll() // sahifani och\r\n\t\t})\r\n\t})\r\n}\r\n\r\nexport default headerMenu\r\n","function orderRoom() {\r\n\tconst form =\r\n\t\tdocument.getElementById('bookingForm') ||\r\n\t\tdocument.querySelector('.booking-form')\r\n\tif (!form) return console.error('Forma topilmadi')\r\n\r\n\tconst dateInput = document.getElementById('date')\r\n\tconst timeInput = document.getElementById('time')\r\n\tconst submitBtn = form.querySelector('button[type=\"submit\"]')\r\n\r\n\t// Sana va vaqt chegaralari funksiyasi...\r\n\tconst getTodayDate = () => new Date().toISOString().split('T')[0]\r\n\tconst getCurrentTime = () => {\r\n\t\tconst now = new Date()\r\n\t\treturn `${String(now.getHours()).padStart(2, '0')}:${String(\r\n\t\t\tnow.getMinutes()\r\n\t\t).padStart(2, '0')}`\r\n\t}\r\n\tconst updateDateTimeLimits = () => {\r\n\t\tconst today = getTodayDate()\r\n\t\tconst currentTime = getCurrentTime()\r\n\t\tdateInput.min = today\r\n\t\tif (!dateInput.value) dateInput.value = today\r\n\r\n\t\tif (dateInput.value === today) {\r\n\t\t\ttimeInput.min = currentTime\r\n\t\t\tif (timeInput.value < currentTime) {\r\n\t\t\t\ttimeInput.value = currentTime\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\ttimeInput.min = '10:00'\r\n\t\t}\r\n\t\ttimeInput.max = '22:00'\r\n\t}\r\n\tupdateDateTimeLimits()\r\n\tdateInput.addEventListener('change', updateDateTimeLimits)\r\n\tsetInterval(updateDateTimeLimits, 30000)\r\n\r\n\t// Email va telefon validatsiya\r\n\tconst validateEmail = email => /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(email)\r\n\tconst validatePhone = phone => /^\\+998\\d{9}$/.test(phone)\r\n\r\n\t// 🎯 Avvalgi listenerni olib tashlaymiz\r\n\tform.removeEventListener('submit', form._submitHandler)\r\n\r\n\t// ✅ Yangi listener\r\n\tform._submitHandler = async function (event) {\r\n\t\tevent.preventDefault()\r\n\r\n\t\tconst userId = localStorage.getItem('user_id')\r\n\t\tconst token = localStorage.getItem('auth_token')\r\n\t\tif (!userId || !token) {\r\n\t\t\talert('Iltimos, tizimga kiring.')\r\n\t\t\twindow.location.href = '/frontend-resturant/html/login.html'\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tconst name = form.name.value.trim()\r\n\t\tconst phone = form.phone.value.trim()\r\n\t\tconst email = form.email.value.trim()\r\n\t\tconst date = dateInput.value\r\n\t\tconst time = timeInput.value\r\n\t\tconst room = parseInt(form.room.value, 10)\r\n\t\tconst guests = parseInt(form.guests.value, 10)\r\n\t\tconst special_request = form.special_request.value.trim() || ''\r\n\r\n\t\tconst selectedDateTime = new Date(`${date}T${time}`)\r\n\t\tconst now = new Date()\r\n\r\n\t\tif (!date || !time || selectedDateTime <= now) {\r\n\t\t\talert('To‘g‘ri sana va vaqt tanlang.')\r\n\t\t\treturn\r\n\t\t}\r\n\t\tconst selectedHour = selectedDateTime.getHours()\r\n\t\tconst selectedMinutes = selectedDateTime.getMinutes()\r\n\t\tif (\r\n\t\t\tselectedHour < 10 ||\r\n\t\t\tselectedHour > 22 ||\r\n\t\t\t(selectedHour === 22 && selectedMinutes > 0)\r\n\t\t) {\r\n\t\t\talert('Buyurtma faqat 10:00–22:00 oralig‘ida qabul qilinadi.')\r\n\t\t\treturn\r\n\t\t}\r\n\t\tif (!validatePhone(phone)) return alert('Telefon noto‘g‘ri.')\r\n\t\tif (!validateEmail(email)) return alert('Email noto‘g‘ri.')\r\n\t\tif (isNaN(guests) || guests < 1 || guests > 20)\r\n\t\t\treturn alert('Mehmonlar soni noto‘g‘ri.')\r\n\t\tif (isNaN(room) || room < 1 || room > 14) return alert('Xona noto‘g‘ri.')\r\n\r\n\t\tsubmitBtn.disabled = true\r\n\t\tsubmitBtn.textContent = 'Yuborilmoqda...'\r\n\r\n\t\ttry {\r\n\t\t\tconst res = await fetch('http://localhost:3008/book-table', {\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t\tAuthorization: `Bearer ${token}`,\r\n\t\t\t\t},\r\n\t\t\t\tbody: JSON.stringify({\r\n\t\t\t\t\tname,\r\n\t\t\t\t\tphone,\r\n\t\t\t\t\temail,\r\n\t\t\t\t\tdate,\r\n\t\t\t\t\ttime,\r\n\t\t\t\t\troom,\r\n\t\t\t\t\tguests,\r\n\t\t\t\t\tspecial_request,\r\n\t\t\t\t\tuser_id: Number(userId),\r\n\t\t\t\t}),\r\n\t\t\t})\r\n\r\n\t\t\tif (!res.ok) throw new Error(await res.text())\r\n\t\t\tconst contentType = res.headers.get('content-type')\r\n\t\t\tif (contentType?.includes('application/json')) {\r\n\t\t\t\tconst data = await res.json()\r\n\t\t\t\talert(data.message || 'Buyurtma yuborildi!')\r\n\t\t\t} else {\r\n\t\t\t\talert('Buyurtma yuborildi.')\r\n\t\t\t}\r\n\t\t\tform.reset()\r\n\t\t\tupdateDateTimeLimits()\r\n\t\t} catch (err) {\r\n\t\t\talert(`Xatolik: ${err.message}`)\r\n\t\t} finally {\r\n\t\t\tsubmitBtn.disabled = false\r\n\t\t\tsubmitBtn.textContent = 'Buyurtma berish'\r\n\t\t}\r\n\t}\r\n\r\n\tform.addEventListener('submit', form._submitHandler)\r\n}\r\n\r\ndocument.addEventListener('DOMContentLoaded', orderRoom)\r\n\r\nexport default orderRoom\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import form from './modules/form.js'\r\nimport headerMenu from './modules/headerMenu.js'\r\nimport orderRoom from './modules/orderRoom.js'\r\n\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n\theaderMenu()\r\n\torderRoom()\r\n\tform()\r\n})\r\n"],"names":[],"sourceRoot":""}