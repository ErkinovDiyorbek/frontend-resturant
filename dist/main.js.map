{"version":3,"file":"main.js","mappings":";;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,WAAW;AACX,cAAc;AACd,YAAY;AACZ;AACA;AACA,uCAAuC,iBAAiB;AACxD;AACA,cAAc,oCAAoC;AAClD,0BAA0B,uBAAuB;AACjD,GAAG;AACH;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA,IAAI;AACJ,EAAE;AACF;AACA;AACA,iEAAe,IAAI;;;;;;;;;;;;;;;ACpDnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,EAAE;AACF;AACA;AACA,iEAAe,UAAU;;;;;;;;;;;;;;;ACpDzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,wCAAwC,GAAG;AACpE;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,KAAK,GAAG,KAAK;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,MAAM;AACpC,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,IAAI;AACJ;AACA;AACA;AACA,6CAA6C,gBAAgB;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,iEAAe,SAAS;;;;;;;UC7HxB;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;;;;;;;;;ACNoC;AACY;AACF;AAC9C;AACA;AACA,CAAC,kEAAU;AACX,CAAC,kEAAS;AACV,CAAC,6DAAI;AACL,CAAC","sources":["webpack://nice/./js/modules/form.js","webpack://nice/./js/modules/headerMenu.js","webpack://nice/./js/modules/orderRoom.js","webpack://nice/webpack/bootstrap","webpack://nice/webpack/runtime/define property getters","webpack://nice/webpack/runtime/hasOwnProperty shorthand","webpack://nice/webpack/runtime/make namespace object","webpack://nice/./js/script.js"],"sourcesContent":["function form() {\r\n\tconst formContact = document.querySelector('.contact-form')\r\n\tif (!formContact) return\r\n\r\n\tconst telegramTokenBot = '7297762905:AAHUFVoYAkRtyk9HMvQe1Boo25R4x-hDxgQ' // Tokeningizni to‘liq kiriting\r\n\tconst chatId = '1384095888'\r\n\r\n\tconst message = {\r\n\t\tloading: 'Yuborilmoqda...',\r\n\t\tsuccess: 'Xabaringiz yuborildi!',\r\n\t\tfailur: 'Xatolik yuz berdi!',\r\n\t}\r\n\r\n\tformContact.addEventListener('submit', event => {\r\n\t\tevent.preventDefault()\r\n\r\n\t\tconst statusMessage = document.createElement('div')\r\n\t\tstatusMessage.textContent = message.loading\r\n\t\tformContact.append(statusMessage)\r\n\r\n\t\tconst formData = new FormData(formContact)\r\n\t\tconst object = {}\r\n\t\tformData.forEach((value, key) => {\r\n\t\t\tobject[key] = value\r\n\t\t})\r\n\r\n\t\tconst text = `\r\n📥 Yangi xabar!\r\n👤 Ismi: ${object.name}\r\n📞 Telefon: ${object.phone}\r\n✉️ Xabar: ${object.message}\r\n\t\t`\r\n\r\n\t\tfetch(`https://api.telegram.org/bot${telegramTokenBot}/sendMessage`, {\r\n\t\t\tmethod: 'POST',\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t\tbody: JSON.stringify({ chat_id: chatId, text }),\r\n\t\t})\r\n\t\t\t.then(res => {\r\n\t\t\t\tif (!res.ok) throw new Error('Telegram API error')\r\n\t\t\t\tstatusMessage.textContent = message.success\r\n\t\t\t})\r\n\t\t\t.catch(() => {\r\n\t\t\t\tstatusMessage.textContent = message.failur\r\n\t\t\t})\r\n\t\t\t.finally(() => {\r\n\t\t\t\tformContact.reset()\r\n\t\t\t\tsetTimeout(() => statusMessage.remove(), 3000)\r\n\t\t\t})\r\n\t})\r\n}\r\n\r\nexport default form\r\n","function headerMenu() {\r\n\tconst navLinks = document.querySelectorAll('.nav-menu .nav-link')\r\n\tconst menuOpenButton = document.querySelector('#menu-open-button')\r\n\tconst menuCloseButton = document.querySelector('#menu-close-button')\r\n\tconst mobileMenu = document.body // 'show-mobile-menu' classi bodyga qo‘shiladi\r\n\r\n\t// Scrollni bloklash va ochish funksiyalari\r\n\tfunction lockScroll() {\r\n\t\tdocument.body.classList.add('no-scroll')\r\n\t}\r\n\r\n\tfunction unlockScroll() {\r\n\t\tdocument.body.classList.remove('no-scroll')\r\n\t}\r\n\r\n\t// Menyu ochish\r\n\tmenuOpenButton.addEventListener('click', () => {\r\n\t\tmobileMenu.classList.toggle('show-mobile-menu')\r\n\t\tif (mobileMenu.classList.contains('show-mobile-menu')) {\r\n\t\t\tlockScroll() // sahifani qotir\r\n\t\t} else {\r\n\t\t\tunlockScroll() // sahifani och\r\n\t\t}\r\n\t})\r\n\r\n\t// Menyu yopish (close button bosilganda)\r\n\tmenuCloseButton.addEventListener('click', () => {\r\n\t\tmobileMenu.classList.remove('show-mobile-menu')\r\n\t\tunlockScroll() // sahifani och\r\n\t})\r\n\r\n\t// Menyu tashqarisiga bosganda ham menyu yopilishi kerak\r\n\tdocument.addEventListener('click', event => {\r\n\t\tif (\r\n\t\t\t!event.target.closest('.nav-menu') &&\r\n\t\t\t!event.target.closest('#menu-open-button') &&\r\n\t\t\tmobileMenu.classList.contains('show-mobile-menu')\r\n\t\t) {\r\n\t\t\tmobileMenu.classList.remove('show-mobile-menu')\r\n\t\t\tunlockScroll() // sahifani och\r\n\t\t}\r\n\t})\r\n\r\n\t// Menyu havolalarini bosganda ham menyu yopilsin\r\n\tnavLinks.forEach(link => {\r\n\t\tlink.addEventListener('click', () => {\r\n\t\t\tmobileMenu.classList.remove('show-mobile-menu')\r\n\t\t\tunlockScroll() // sahifani och\r\n\t\t})\r\n\t})\r\n}\r\n\r\nexport default headerMenu\r\n","function orderRoom() {\r\n\tconst form = document.getElementById('bookingForm')\r\n\tif (!form) return console.error('Forma topilmadi')\r\n\r\n\tconst dateInput = document.getElementById('date')\r\n\tconst timeInput = document.getElementById('time')\r\n\r\n\tconst updateDateTimeLimits = () => {\r\n\t\tconst now = new Date()\r\n\t\tconst today = now.toISOString().split('T')[0]\r\n\t\tconst currentTime = `${String(now.getHours()).padStart(2, '0')}:${String(\r\n\t\t\tnow.getMinutes()\r\n\t\t).padStart(2, '0')}`\r\n\t\tdateInput.min = today\r\n\t\tif (!dateInput.value) dateInput.value = today\r\n\t\ttimeInput.min = dateInput.value === today ? currentTime : '09:00'\r\n\t\ttimeInput.max = '22:00'\r\n\t}\r\n\r\n\tupdateDateTimeLimits()\r\n\tdateInput.addEventListener('change', updateDateTimeLimits)\r\n\r\n\tfunction validateEmail(email) {\r\n\t\tconst regex = /^[a-zA-Z0-9._%+-]+@gmail\\.com$/i\r\n\t\treturn regex.test(email)\r\n\t}\r\n\r\n\tform.addEventListener('submit', async function (event) {\r\n\t\tevent.preventDefault()\r\n\r\n\t\tconst userId = localStorage.getItem('user_id')\r\n\t\tconst token = localStorage.getItem('auth_token')\r\n\t\tif (!userId || !token) {\r\n\t\t\talert('Buyurtma berish uchun tizimga kirgan bo‘lishingiz kerak.')\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tconst name = document.getElementById('name').value.trim()\r\n\t\tconst phone = document.getElementById('phone').value.trim()\r\n\t\tconst email = document.getElementById('email').value.trim()\r\n\t\tconst date = dateInput.value\r\n\t\tconst time = timeInput.value\r\n\t\tconst room = parseInt(document.getElementById('room').value, 10)\r\n\t\tconst guests = parseInt(document.getElementById('guests').value, 10)\r\n\t\tconst special_request =\r\n\t\t\tdocument.getElementById('special_request').value?.trim() || ''\r\n\r\n\t\tconst now = new Date()\r\n\t\tconst selectedDateTime = new Date(`${date}T${time}`)\r\n\r\n\t\tif (!date || !time) {\r\n\t\t\talert('Sana va vaqtni tanlang!')\r\n\t\t\treturn\r\n\t\t}\r\n\t\tif (selectedDateTime <= now) {\r\n\t\t\talert('O‘tgan vaqtga zakaz berib bo‘lmaydi.')\r\n\t\t\treturn\r\n\t\t}\r\n\t\tif (!/^\\+998\\d{9}$/.test(phone)) {\r\n\t\t\talert('Telefon raqam +998... formatida bo‘lishi kerak.')\r\n\t\t\treturn\r\n\t\t}\r\n\t\tif (!validateEmail(email)) {\r\n\t\t\talert('Email faqat @gmail.com bilan tugashi kerak.')\r\n\t\t\treturn\r\n\t\t}\r\n\t\tif (guests > 20 || guests < 1) {\r\n\t\t\talert('Mehmonlar soni 1 dan 20 gacha bo‘lishi kerak.')\r\n\t\t\treturn\r\n\t\t}\r\n\t\tif (room > 14 || room < 1) {\r\n\t\t\talert('Xonalar soni 1 dan 14 gacha bo‘lishi kerak.')\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\ttry {\r\n\t\t\tconst response = await fetch('http://localhost:3001/book-table', {\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t\tAuthorization: `Bearer ${token}`,\r\n\t\t\t\t},\r\n\t\t\t\tbody: JSON.stringify({\r\n\t\t\t\t\tname,\r\n\t\t\t\t\tphone,\r\n\t\t\t\t\temail,\r\n\t\t\t\t\tdate,\r\n\t\t\t\t\ttime,\r\n\t\t\t\t\troom,\r\n\t\t\t\t\tguests,\r\n\t\t\t\t\tspecial_request,\r\n\t\t\t\t\tuser_id: Number(userId),\r\n\t\t\t\t}),\r\n\t\t\t})\r\n\r\n\t\t\tif (!response.ok) {\r\n\t\t\t\tconst errorText = await response.text()\r\n\t\t\t\tthrow new Error(errorText || `Xatolik: ${response.status}`)\r\n\t\t\t}\r\n\r\n\t\t\tconst contentType = response.headers.get('content-type')\r\n\r\n\t\t\tif (contentType && contentType.includes('text/html')) {\r\n\t\t\t\t// EJS dan render qilingan sahifa kelsa, to‘g‘ridan-to‘g‘ri sahifani almashtiramiz\r\n\t\t\t\tconst html = await response.text()\r\n\t\t\t\tdocument.open()\r\n\t\t\t\tdocument.write(html)\r\n\t\t\t\tdocument.close()\r\n\t\t\t} else if (contentType && contentType.includes('application/json')) {\r\n\t\t\t\tconst data = await response.json()\r\n\t\t\t\talert(data.message || 'Buyurtma muvaffaqiyatli yuborildi!')\r\n\t\t\t\tform.reset()\r\n\t\t\t\tupdateDateTimeLimits()\r\n\t\t\t} else {\r\n\t\t\t\t// Noaniq javob\r\n\t\t\t\talert('Buyurtma yuborildi.')\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('Buyurtma yuborishda xatolik:', err)\r\n\t\t\talert('Xatolik yuz berdi, keyinroq urinib ko‘ring.')\r\n\t\t}\r\n\t})\r\n}\r\n\r\ndocument.addEventListener('DOMContentLoaded', orderRoom)\r\nexport default orderRoom\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import form from './modules/form.js'\r\nimport headerMenu from './modules/headerMenu.js'\r\nimport orderRoom from './modules/orderRoom.js'\r\n\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n\theaderMenu()\r\n\torderRoom()\r\n\tform()\r\n})\r\n"],"names":[],"sourceRoot":""}